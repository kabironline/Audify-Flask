<div class="audio-controls">
  <audio src="{{ audio }}" autoplay ></audio>
  <button id="pause">Pause</button>
  <div class="slidecontainer">
    
    <input style="background-color: transparent; width: 100%;" type="range" min="1" max="100" value="0" class="slider" id="myRange">
  </div>
  <p class="pos"></p>
</div>
<script>
    var audio = document.querySelector('audio');
    var pause = document.querySelector('#pause');
    var position = document.querySelector('.pos');
    var progress = document.querySelector('.slider');
    var duration = audio.duration;
    pause.addEventListener('click', function() {
        if (audio.paused) {
            audio.play();
            pause.innerHTML = 'Pause';
        } else {
            audio.pause();
            pause.innerHTML = 'Play';
        }
    });
    position.innerHTML = '0:00';
    audio.addEventListener('timeupdate', function() {
        progress.value = audio.currentTime / audio.duration * 100;
        // Calculate the minutes and seconds from the current time
        // also Calculate the time remaining
        var pos = Math.floor(audio.currentTime / 60) + ':' + ('0' + Math.floor(audio.currentTime % 60)).slice(-2);
        var left = Math.floor((audio.duration - audio.currentTime) / 60) + ':' + ('0' + Math.floor((audio.duration - audio.currentTime) % 60)).slice(-2);
        position.innerHTML = pos + ' / ' + "-" +left;
    });
    // Add event listener that will update the value of the buffered amount
    // of the audio element
    audio.addEventListener('progress', function() {
        // console.log(audio.buffered.end(audio.buffered.length - 1));
    });
    progress.addEventListener('change', function() {
        audio.pause();
        audio.currentTime = audio.duration * (progress.value / 100);
        audio.play();
    });
</script>